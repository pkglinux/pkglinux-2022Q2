$NetBSD: patch-decode-dimms.1,v 1.4 2020/10/04 14:02:06 pgoyette Exp $

Document the -s option (use spdmem(4)'s sysctl for input)

--- eeprom/decode-dimms.1.orig	2020-08-27 01:29:04.000000000 -0700
+++ eeprom/decode-dimms.1	2020-09-07 07:41:27.859276571 -0700
@@ -22,7 +22,7 @@
 decode-dimms \- decode the information found in memory module SPD EEPROMs
 .SH SYNOPSIS
 .B decode-dimms
-[-c] [-f [-b]] [-x|-X file [files..]]
+[-c] [-f [-b]] [-x|-X|-s] file ...
 .br
 .B decode-dimms
 -h
@@ -32,8 +32,7 @@
 .B decode-dimms
 tool is to decode the information found in memory module SPD EEPROMs.
 The SPD data is read either from the running system or dump files.
-In the former case, the tool requires a kernel module to be loaded:
-eeprom, at24 or ee1004 (for DDR4 SDRAM.)
+In the former case, the tool requires the spdmem kernel module to be loaded.
 .SH PARAMETERS
 .TP
 .B \-f, --format
@@ -60,13 +59,21 @@
 .B \-X
 Same as -x except treat multibyte hex data as little endian
 .TP
+.B \-s
+Read the SPD data from the sysctl (9) node hw.<file>.spd_data instead of
+from a file.
+One of
+.B \-x,
+.B \-X,
+or
+.B \-s
+must be specified.
+.TP
 .B \-h, --help
 Display the usage summary
 .SH BUGS
 To report bugs or send fixes, please write to the Linux I2C mailing list
 <linux-i2c@vger.kernel.org> with Cc to the current maintainer:
 Jean Delvare <jdelvare@suse.de>.
-.SH SEE ALSO
-.BR decode-vaio (1)
 .SH AUTHORS
 Philip Edelbrock, Christian Zuckschwerdt, Burkart Lingner, Jean Delvare
